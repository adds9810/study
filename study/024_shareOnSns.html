<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="asset/css/reset.css" />
    <title>024_shareOnSns</title>
    <style></style>
  </head>
  <body>
    <div id="wrap">
      <h1>sns ê³µìœ í•˜ê¸°</h1>
      <ul class="snslist">
        <li class="kakao"><a href="javascript:;">ì¹´ì¹´ì˜¤</a></li>
        <li class="twiter"><a href="javascript:;">íŠ¸ìœ„í„°</a></li>
        <li class="facebook"><a href="javascript:;">í˜ì´ìŠ¤ë¶</a></li>
        <li class="copylink"><a href="javascript:;">ë§í¬ë³µì‚¬</a></li>
      </ul>
    </div>
    <script>
      const snsWrap = document.querySelector('.snslist');
      const snsBtn = document.querySelectorAll('.snslist li');
      const snsNum = snsWrap.childElementCount;
      const shareUrl = 'https://www.mandupick.com/';
      function addEvent() {
        for (let i = 0; i < snsNum; i++) {
          snsBtn[i].addEventListener('click', shareSns);
        }
      }
      // classList.contains() == .hasClass();
      function shareSns() {
        if (this.classList.contains('kakao')) {
          //ì¹´ì¹´ì˜¤
          // ì¹´ì¹´ì˜¤ ì‚¬ìš©ì‹œ ì¸ì¦ ë°›ì•„ì„œ í•´ì•¼í•¨
          Kakao.Link.sendCustom({
            templateId: 66037, // ë©”ì‹œì§€ í…œí”Œë¦¿ì„ ì‚¬ìš©í•  ê²½ìš°
          });
        } else if (this.classList.contains('facebook')) {
          //íŠ¸ìœ„í„°
          var openSnsUrl =
            'https://www.facebook.com/sharer/sharer.php?u=' + shareUrl;
          window.open(
            openSnsUrl,
            'í˜ì´ìŠ¤ë¶ ê³µìœ í•˜ê¸°',
            'width=555, height=456, scrollbars=no, resizable=no, toolbars=no, menubar=no'
          );
        } else if (this.classList.contains('twiter')) {
          //í˜ì´ìŠ¤ë¶
          var sendText =
            'ìˆ˜ì œë§Œë‘£ì§‘ğŸ  ë§Œë‘ë™ ìˆ˜ì œë¡œ 11ê¸¸ì—ì„œ%0aë‚˜ë§Œì„ ìœ„í•œ ì¸ìƒë§Œë‘ë¥¼ ì°¾ì•„ë³´ì„¸ìš”(ê²½í’ˆ/í• ì¸ìˆìŒ)%0a%0ağŸ¥Ÿìˆ˜ì œë§Œë‘£ì§‘ ì…ì¥ ğŸ¥Ÿ%0a'; // ì „ë‹¬í•  í…ìŠ¤íŠ¸
          window.open(
            'https://twitter.com/intent/tweet?text=' +
              sendText +
              '&url=' +
              shareUrl,
            'íŠ¸ìœ„í„° ê³µìœ í•˜ê¸°',
            'width=555, height=456, scrollbars=no, resizable=no, toolbars=no, menubar=no'
          );
        } else {
          copyToClipboard(shareUrl);
          alert('ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }
      }

      // ë¬¸êµ¬ë³µì‚¬
      function copyToClipboard(val) {
        const t = document.createElement('textarea');
        document.body.appendChild(t);
        t.value = val;
        t.select();
        document.execCommand('copy');
        document.body.removeChild(t);
      }
      addEvent();
    </script>
  </body>
</html>
